(async()=>{var F="/rustwasm-gif-vite/assets/gif_bg.73a11019.wasm",L=async(e={},t)=>{let r;if(t.startsWith("data:")){const o=t.replace(/^data:.*?base64,/,"");let n;if(typeof Buffer=="function"&&typeof Buffer.from=="function")n=Buffer.from(o,"base64");else if(typeof atob=="function"){const i=atob(o);n=new Uint8Array(i.length);for(let s=0;s<i.length;s++)n[s]=i.charCodeAt(s)}else throw new Error("Cannot decode base64-encoded data URL");r=await WebAssembly.instantiate(n,e)}else{const o=await fetch(t),n=o.headers.get("Content-Type")||"";if("instantiateStreaming"in WebAssembly&&n.startsWith("application/wasm"))r=await WebAssembly.instantiateStreaming(o,e);else{const i=await o.arrayBuffer();r=await WebAssembly.instantiate(i,e)}}return r.instance.exports};const _=new Array(32).fill(void 0);_.push(void 0,null,!0,!1);function f(e){return _[e]}let w=_.length;function N(e){e<36||(_[e]=w,w=e)}function q(e){const t=f(e);return N(e),t}const P=typeof TextDecoder>"u"?(0,module.require)("util").TextDecoder:TextDecoder;let M=new P("utf-8",{ignoreBOM:!0,fatal:!0});M.decode();let T=new Uint8Array;function g(){return T.byteLength===0&&(T=new Uint8Array(O.buffer)),T}function E(e,t){return M.decode(g().subarray(e,e+t))}function l(e){w===_.length&&_.push(_.length+1);const t=w;return w=_[t],_[t]=e,t}function j(e){const t=typeof e;if(t=="number"||t=="boolean"||e==null)return`${e}`;if(t=="string")return`"${e}"`;if(t=="symbol"){const n=e.description;return n==null?"Symbol":`Symbol(${n})`}if(t=="function"){const n=e.name;return typeof n=="string"&&n.length>0?`Function(${n})`:"Function"}if(Array.isArray(e)){const n=e.length;let i="[";n>0&&(i+=j(e[0]));for(let s=1;s<n;s++)i+=", "+j(e[s]);return i+="]",i}const r=/\[object ([^\]]+)\]/.exec(toString.call(e));let o;if(r.length>1)o=r[1];else return toString.call(e);if(o=="Object")try{return"Object("+JSON.stringify(e)+")"}catch{return"Object"}return e instanceof Error?`${e.name}: ${e.message}
${e.stack}`:o}let d=0;const R=typeof TextEncoder>"u"?(0,module.require)("util").TextEncoder:TextEncoder;let h=new R("utf-8");const H=typeof h.encodeInto=="function"?function(e,t){return h.encodeInto(e,t)}:function(e,t){const r=h.encode(e);return t.set(r),{read:e.length,written:r.length}};function p(e,t,r){if(r===void 0){const a=h.encode(e),u=t(a.length);return g().subarray(u,u+a.length).set(a),d=a.length,u}let o=e.length,n=t(o);const i=g();let s=0;for(;s<o;s++){const a=e.charCodeAt(s);if(a>127)break;i[n+s]=a}if(s!==o){s!==0&&(e=e.slice(s)),n=r(n,o,o=s+e.length*3);const a=g().subarray(n+s,n+o),u=H(e,a);s+=u.written}return d=s,n}let x=new Int32Array;function b(){return x.byteLength===0&&(x=new Int32Array(O.buffer)),x}function J(e,t){const r=t(e.length*1);return g().set(e,r/1),d=e.length,r}let m=32;function S(e){if(m==1)throw new Error("out of js stack");return _[--m]=e,m}function V(e,t){return g().subarray(e/1,e/1+t)}function z(e,t,r,o,n){try{const u=k(-16),$=p(e,y,A),B=d,I=p(t,y,A),C=d,D=J(r,y);oe(u,$,B,I,C,D,d,S(o),S(n));var i=b()[u/4+0],s=b()[u/4+1],a=V(i,s).slice();return U(i,s*1),a}finally{k(16),_[m++]=void 0,_[m++]=void 0}}function W(e,t){try{return e.apply(this,t)}catch(r){se(l(r))}}function G(e){q(e)}function K(e,t){console.log(E(e,t))}function Q(e,t){const r=E(e,t);return l(r)}function X(e){return l(e)}function Y(){return W(function(e,t,r,o){const n=f(e).call(f(t),f(r),f(o));return l(n)},arguments)}function Z(){return W(function(e,t,r,o,n){const i=f(e).call(f(t),f(r),f(o),f(n));return l(i)},arguments)}function v(){const e=new Error;return l(e)}function ee(e,t){const r=f(t).stack,o=p(r,y,A),n=d;b()[e/4+1]=n,b()[e/4+0]=o}function te(e,t){try{console.error(E(e,t))}finally{U(e,t)}}function ne(e,t){const r=j(f(t)),o=p(r,y,A),n=d;b()[e/4+1]=n,b()[e/4+0]=o}function re(e,t){throw new Error(E(e,t))}const c=await L({"./gif_bg.js":{__wbindgen_object_drop_ref:G,__wbg_log_0d542d2378827078:K,__wbindgen_string_new:Q,__wbindgen_number_new:X,__wbg_call_3999bee59e9f7719:Y,__wbg_call_e1f72c051cdab859:Z,__wbg_new_abda76e883ba8a5f:v,__wbg_stack_658279fe44541cf6:ee,__wbg_error_f851667af71bcfc6:te,__wbindgen_debug_string:ne,__wbindgen_throw:re}},F),O=c.memory;c.__wbg_dimension_free;c.__wbg_get_dimension_width;c.__wbg_set_dimension_width;c.__wbg_get_dimension_height;c.__wbg_set_dimension_height;c.get_dimension;const oe=c.reverse_gif,y=c.__wbindgen_malloc,A=c.__wbindgen_realloc,k=c.__wbindgen_add_to_stack_pointer,U=c.__wbindgen_free,se=c.__wbindgen_exn_store,ie=(e,t,r)=>{self.postMessage({type:"register_progress",id:e,name:t,numberOfFrames:r})},ce=(e,t)=>{self.postMessage({type:"report_progress",id:e,currentFrame:t})};self.addEventListener("message",async e=>{try{const{id:t,name:r,buffer:o}=e.data,n=z(t,r,o,ie,ce);self.postMessage({type:"finished",id:t,name:r,buffer:o,reversedBuffer:n})}catch(t){t instanceof Error&&self.postMessage({type:"error",id:e.data.id,name:e.data.name,message:t.message,stack:t.stack})}})})();